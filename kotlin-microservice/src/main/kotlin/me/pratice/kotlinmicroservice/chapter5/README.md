# 마이크로서비스 확장
## 확장 가능한 아키텍쳐
확장은 수평 또는 수직 방향 중 하나로 가능
### 수직적 확장
CPU, 메모리, 디스크 공간을 추가해 애플리케이션이 사용하는 시스템의 용량을 늘릴 수 있다. 서버를 더 크게 만드는 것.
- 확장은 일정 규모로 고정한다. 예로 RAM을 더 추가했다고 하면 사용 여부에 관계없이 RAM은 항상 그 서버에 고정적이다.
- 이미 충분한 리소스를 가진 서버에 리소스를 부분적으로 늘리는 것이 높은 사용률에 비해 비효율적인 비용이 발생한다.
- 특정 용도로 설계된 맞춤형 하드웨어에서 애플리케이션의 모든 요청을 처리하는 막대한 데이터베이스 시스템을 구입하는 경우처럼 처적의 솔루션과는 거리가 먼... 특정 솔루션에 종속적이 된다.

### 수평적 확장
확장 요구사항을 처리하는 서버를 추가할 수 있다. 기본적으로는 서버를 더 많이 추가한다.
- 동적으로 확장할 수 있다. 당장 서버를 추가하더라도 필요없으면 제거할 수 있다.
- 확장 비용이 더 효과적이다. 요청사항에 맞게 서버를 추가확장한다.
- 독점 대형 하드웨어 대신 값싼 표준 하드웨어를 사용하는 솔루션을 만들수 있고 유지관리 비용도 저렴하다.

수평형 확장을 하려면 몇가지 조건이 필요하다
- 여러 서버에서 실행되도록 설계되지 않은 애플리케이션은 쉽게 확장이 불가능하다.
- 확장 요구 사항을 관리하는 소프트웨어나 하드웨어 도구가 필요하다.

### 확장 설계
- 실행 중인 서버에 있는 특정 값을 저장하고 검색해야해? 파일 쓰기 읽기..
- 이 컴포넌트는 다른 컴포넌트와 동기화가 필요해?
- 이전에 호출했을 때의 정보가 필요해?? 
- 다른 컴포넌트가 실행 중인 요청에 영향을 주지 않고 언제든지 이 컴포넌트를 중지가능해?
문제 해결법으론 비저장 컴포넌트를 만든다. 컴포넌트가 동작하는 데 상태가 필요없고 각 요청은 매개 변수를 받아 처리 후 결과를 반환해 시스템에 어떤 상태도 유지할 필요가 없다.
  
데이터베이스는?
- 클러스터링으로 데이터 전체를 여러 서버로 동기화
- 여러 서버에 데이터의 일부분만을 클러스터링 or 샤딩
